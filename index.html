<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automated Portfolio Dashboard - Lofty2304</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="AI-powered automated portfolio management system with real-time tracking, SIP automation, and intelligent insights">
    <meta name="keywords" content="portfolio, investment, dashboard, automation, mutual funds, stocks">
    <meta property="og:title" content="Automated Portfolio Dashboard">
    <meta property="og:description" content="Real-time automated investment portfolio management">
    <meta property="og:url" content="https://lofty2304.github.io/automated-portfolio-dashboard">
    
    <!-- PWA Links -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="assets/icons/favicon.ico">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header-info {
            text-align: right;
        }

        .github-badge {
            background: #24292e;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            margin-bottom: 10px;
        }

        .github-badge:hover {
            background: #0366d6;
            transform: scale(1.05);
        }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #22c55e;
            font-weight: 500;
        }

        .pulse {
            width: 12px;
            height: 12px;
            background: #22c55e;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); }
            100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .stat-card.primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .stat-card h3 {
            font-size: 0.9rem;
            font-weight: 500;
            opacity: 0.8;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .stat-change {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }

        .positive { color: #22c55e; }
        .negative { color: #ef4444; }

        .market-feed {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .market-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .market-item {
            background: #f8fafc;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .market-item:hover {
            background: #e2e8f0;
            transform: scale(1.05);
        }

        .market-label {
            font-size: 0.8rem;
            color: #64748b;
            margin-bottom: 8px;
        }

        .market-value {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .market-change {
            font-size: 0.9rem;
            font-weight: 500;
            padding: 4px 8px;
            border-radius: 8px;
        }

        .tabs {
            background: white;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .tab-buttons {
            display: flex;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .tab-button {
            flex: 1;
            padding: 20px;
            background: none;
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }

        .tab-content {
            padding: 30px;
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .holdings-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .holdings-table th,
        .holdings-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        .holdings-table th {
            background: #f8fafc;
            font-weight: 600;
            color: #475569;
        }

        .holdings-table tr:hover {
            background: #f8fafc;
        }

        .automation-card {
            background: #f0f9ff;
            border: 2px solid #0ea5e9;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            position: relative;
        }

        .automation-status {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 5px 10px;
            border-radius: 8px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-scheduled { background: #dbeafe; color: #1e40af; }
        .status-ready { background: #dcfce7; color: #166534; }
        .status-pending { background: #fef3c7; color: #92400e; }
        .status-active { background: #f3e8ff; color: #7c3aed; }

        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }

        .alert {
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .alert-success { background: #dcfce7; color: #166534; border-left: 4px solid #22c55e; }
        .alert-info { background: #dbeafe; color: #1e40af; border-left: 4px solid #3b82f6; }
        .alert-warning { background: #fef3c7; color: #92400e; border-left: 4px solid #f59e0b; }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #667eea;
        }

        input:checked + .slider:before {
            transform: translateX(30px);
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .market-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .tab-buttons {
                flex-wrap: wrap;
            }

            .holdings-table {
                font-size: 0.9rem;
            }
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.5s ease;
        }

        .notification.show {
            transform: translateX(0);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div>
                <h1><i class="fas fa-chart-line"></i> Automated Portfolio Dashboard</h1>
                <p style="color: #64748b; margin-top: 10px;">AI-Powered Investment Management System</p>
            </div>
            <div class="header-info">
                <a href="https://github.com/lofty2304/automated-portfolio-dashboard" class="github-badge" target="_blank">
                    <i class="fab fa-github"></i>
                    <span>View on GitHub</span>
                </a>
                <div class="live-indicator">
                    <div class="pulse"></div>
                    <span>Live Data - July 26, 2025, 8:00 PM IST</span>
                </div>
            </div>
        </div>

        <!-- Portfolio Stats -->
        <div class="stats-grid">
            <div class="stat-card primary">
                <h3><i class="fas fa-wallet"></i> Total Portfolio Value</h3>
                <div class="stat-value" id="totalValue">₹1,72,318</div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span>+4.52% absolute returns</span>
                </div>
            </div>

            <div class="stat-card">
                <h3><i class="fas fa-chart-area"></i> Mutual Funds (84.1%)</h3>
                <div class="stat-value" style="color: #667eea;">₹1,44,867</div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span>+₹9,674 (7.16%)</span>
                </div>
            </div>

            <div class="stat-card">
                <h3><i class="fas fa-building"></i> Direct Equity (15.9%)</h3>
                <div class="stat-value" style="color: #ef4444;">₹27,451</div>
                <div class="stat-change negative">
                    <i class="fas fa-arrow-down"></i>
                    <span>-₹2,218 (-7.48%)</span>
                </div>
            </div>

            <div class="stat-card">
                <h3><i class="fas fa-percentage"></i> XIRR (Annualized)</h3>
                <div class="stat-value" style="color: #f59e0b;">52.8%</div>
                <div class="stat-change positive">
                    <i class="fas fa-star"></i>
                    <span>Exceptional returns</span>
                </div>
            </div>
        </div>

        <!-- Live Market Feed -->
        <div class="market-feed">
            <h2><i class="fas fa-globe"></i> Live Market Indicators</h2>
            <div class="market-grid">
                <div class="market-item">
                    <div class="market-label">USD/INR</div>
                    <div class="market-value">₹83.42</div>
                    <div class="market-change positive">+0.15%</div>
                </div>
                <div class="market-item">
                    <div class="market-label">EUR/INR</div>
                    <div class="market-value">₹91.18</div>
                    <div class="market-change negative">-0.28%</div>
                </div>
                <div class="market-item">
                    <div class="market-label">Gold (XAU/INR)</div>
                    <div class="market-value">₹6,867</div>
                    <div class="market-change positive">+1.45%</div>
                </div>
                <div class="market-item">
                    <div class="market-label">Nifty 50</div>
                    <div class="market-value">24,587</div>
                    <div class="market-change positive">+0.82%</div>
                </div>
                <div class="market-item">
                    <div class="market-label">Nifty 500</div>
                    <div class="market-value">22,143</div>
                    <div class="market-change positive">+0.94%</div>
                </div>
                <div class="market-item">
                    <div class="market-label">Healthcare Index</div>
                    <div class="market-value">38,256</div>
                    <div class="market-change positive">+2.15%</div>
                </div>
            </div>
        </div>

        <!-- Tabs Section -->
        <div class="tabs">
            <div class="tab-buttons">
                <button class="tab-button active" onclick="openTab(event, 'holdings')">
                    <i class="fas fa-list"></i> Holdings
                </button>
                <button class="tab-button" onclick="openTab(event, 'automation')">
                    <i class="fas fa-robot"></i> Automation
                </button>
                <button class="tab-button" onclick="openTab(event, 'insights')">
                    <i class="fas fa-brain"></i> AI Insights
                </button>
                <button class="tab-button" onclick="openTab(event, 'performance')">
                    <i class="fas fa-chart-line"></i> Performance
                </button>
            </div>

            <!-- Holdings Tab -->
            <div id="holdings" class="tab-content active">
                <h3>Portfolio Holdings</h3>
                <table class="holdings-table">
                    <thead>
                        <tr>
                            <th>Fund Name</th>
                            <th>Units</th>
                            <th>NAV</th>
                            <th>Current Value</th>
                            <th>Returns</th>
                            <th>Allocation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>DSP Healthcare Fund - Direct</strong></td>
                            <td>617.92</td>
                            <td>₹44.80</td>
                            <td>₹27,663</td>
                            <td class="positive">+2.15%</td>
                            <td>19.1%</td>
                        </tr>
                        <tr>
                            <td><strong>HDFC Gold ETF FoF - Direct</strong></td>
                            <td>714.51</td>
                            <td>₹31.07</td>
                            <td>₹22,201</td>
                            <td class="positive">+17.76%</td>
                            <td>15.3%</td>
                        </tr>
                        <tr>
                            <td><strong>HDFC Nifty500 Multicap - Direct</strong></td>
                            <td>1,894.97</td>
                            <td>₹9.99</td>
                            <td>₹18,934</td>
                            <td class="positive">+6.68%</td>
                            <td>13.1%</td>
                        </tr>
                        <tr>
                            <td><strong>Parag Parikh Conservative - Direct</strong></td>
                            <td>1,962.47</td>
                            <td>₹15.37</td>
                            <td>₹30,167</td>
                            <td class="positive">+5.85%</td>
                            <td>20.8%</td>
                        </tr>
                        <tr>
                            <td><strong>Parag Parikh Flexi Cap - Direct</strong></td>
                            <td>149.50</td>
                            <td>₹92.51</td>
                            <td>₹13,831</td>
                            <td class="positive">+6.39%</td>
                            <td>9.5%</td>
                        </tr>
                        <tr>
                            <td><strong>Motilal Oswal ELSS - Direct</strong></td>
                            <td>324.38</td>
                            <td>₹61.50</td>
                            <td>₹19,945</td>
                            <td class="positive">+7.84%</td>
                            <td>13.8%</td>
                        </tr>
                        <tr>
                            <td><strong>Motilal Oswal Small Cap - Direct</strong></td>
                            <td>691.10</td>
                            <td>₹14.62</td>
                            <td>₹10,102</td>
                            <td class="positive">+6.34%</td>
                            <td>7.0%</td>
                        </tr>
                        <tr>
                            <td><strong>Invesco Pan European - Direct</strong></td>
                            <td>92.92</td>
                            <td>₹21.61</td>
                            <td>₹2,008</td>
                            <td class="positive">+0.39%</td>
                            <td>1.4%</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Automation Tab -->
            <div id="automation" class="tab-content">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                    <h3>Automation Center</h3>
                    <label class="toggle-switch">
                        <input type="checkbox" checked>
                        <span class="slider"></span>
                    </label>
                </div>

                <h4 style="margin-bottom: 20px;">Upcoming Automated Actions</h4>

                <div class="automation-card">
                    <div class="automation-status status-scheduled">Scheduled</div>
                    <h4><i class="fas fa-calendar"></i> August 1, 2025</h4>
                    <p><strong>Reduce PP Conservative SIP to ₹2,400</strong></p>
                    <p style="color: #64748b; margin-top: 8px;">Current: ₹3,000/month → New: ₹2,400/month</p>
                </div>

                <div class="automation-card">
                    <div class="automation-status status-ready">Ready</div>
                    <h4><i class="fas fa-play"></i> August 10, 2025</h4>
                    <p><strong>Start Franklin US Opportunities SIP ₹1,000</strong></p>
                    <p style="color: #64748b; margin-top: 8px;">New international exposure fund</p>
                </div>

                <div class="automation-card">
                    <div class="automation-status status-pending">Pending</div>
                    <h4><i class="fas fa-pause"></i> August 15, 2025</h4>
                    <p><strong>Pause DSP Healthcare SIP</strong></p>
                    <p style="color: #64748b; margin-top: 8px;">Reduce sectoral concentration risk</p>
                </div>

                <div class="automation-card">
                    <div class="automation-status status-active">Active</div>
                    <h4><i class="fas fa-eye"></i> Continuous Monitoring</h4>
                    <p><strong>Monitor EUR/INR for Invesco exit timing</strong></p>
                    <p style="color: #64748b; margin-top: 8px;">Exit trigger: EUR/INR ≥ ₹92.0 | Current: ₹91.18</p>
                </div>

                <h4 style="margin: 30px 0 20px 0;">Current SIP Schedule</h4>
                <p style="color: #64748b; margin-bottom: 20px;">Total Monthly SIP: ₹14,500 (Before adjustments)</p>
                
                <table class="holdings-table">
                    <thead>
                        <tr>
                            <th>Fund</th>
                            <th>Amount</th>
                            <th>Next Date</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>DSP Healthcare</td>
                            <td>₹3,000</td>
                            <td>2025-08-15</td>
                            <td><span style="color: #f59e0b;">Pausing Soon</span></td>
                        </tr>
                        <tr>
                            <td>HDFC Gold ETF</td>
                            <td>₹2,000</td>
                            <td>2025-08-01</td>
                            <td><span style="color: #22c55e;">Active</span></td>
                        </tr>
                        <tr>
                            <td>HDFC Nifty500</td>
                            <td>₹2,000</td>
                            <td>2025-08-20</td>
                            <td><span style="color: #22c55e;">Active</span></td>
                        </tr>
                        <tr>
                            <td>PP Conservative</td>
                            <td>₹3,000</td>
                            <td>2025-08-01</td>
                            <td><span style="color: #f59e0b;">Reducing</span></td>
                        </tr>
                        <tr>
                            <td>PP Flexi Cap</td>
                            <td>₹1,500</td>
                            <td>2025-08-15</td>
                            <td><span style="color: #22c55e;">Active</span></td>
                        </tr>
                        <tr>
                            <td>MO ELSS</td>
                            <td>₹2,000</td>
                            <td>2025-08-25</td>
                            <td><span style="color: #22c55e;">Active</span></td>
                        </tr>
                        <tr>
                            <td>MO Small Cap</td>
                            <td>₹1,000</td>
                            <td>2025-08-10</td>
                            <td><span style="color: #22c55e;">Active</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- AI Insights Tab -->
            <div id="insights" class="tab-content">
                <h3>AI-Powered Portfolio Insights</h3>

                <div style="margin: 30px 0;">
                    <h4>Market Sentiment Analysis</h4>
                    <div style="margin: 20px 0;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <span>Reddit Sentiment (Healthcare & Gold sectors)</span>
                            <span><strong>74% Positive</strong></span>
                        </div>
                        <div style="background: #e2e8f0; border-radius: 10px; height: 10px;">
                            <div style="background: #22c55e; height: 10px; width: 74%; border-radius: 10px;"></div>
                        </div>
                    </div>
                    <div style="margin: 20px 0;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <span>Twitter Sentiment (Market outlook)</span>
                            <span><strong>69% Positive</strong></span>
                        </div>
                        <div style="background: #e2e8f0; border-radius: 10px; height: 10px;">
                            <div style="background: #3b82f6; height: 10px; width: 69%; border-radius: 10px;"></div>
                        </div>
                    </div>
                </div>

                <h4>Smart Recommendations</h4>
                <div class="alert alert-success">
                    <i class="fas fa-chart-line"></i>
                    <div>
                        <strong>Gold ETF performing excellently</strong>
                        <p>Your HDFC Gold ETF FoF showing 17.76% returns. Consider partial profit booking at 20% gains.</p>
                    </div>
                </div>

                <div class="alert alert-info">
                    <i class="fas fa-heartbeat"></i>
                    <div>
                        <strong>Healthcare sector momentum</strong>
                        <p>DSP Healthcare showing technical strength with 2.15% returns and positive sector outlook.</p>
                    </div>
                </div>

                <div class="alert alert-warning">
                    <i class="fas fa-exclamation-triangle"></i>
                    <div>
                        <strong>Direct equity underperforming</strong>
                        <p>Your direct equity holdings showing -7.48% returns. Consider stop-loss review for NBCC and CG Power.</p>
                    </div>
                </div>

                <div class="alert alert-info">
                    <i class="fas fa-globe-americas"></i>
                    <div>
                        <strong>International exposure optimization</strong>
                        <p>Franklin US fund addition on track. Current international allocation at 1.4% vs target 25%.</p>
                    </div>
                </div>

                <h4 style="margin-top: 30px;">30-Day Performance Forecast</h4>
                <div class="chart-container">
                    <canvas id="forecastChart"></canvas>
                </div>
            </div>

            <!-- Performance Tab -->
            <div id="performance" class="tab-content">
                <h3>Portfolio Performance Analytics</h3>
                
                <div style="margin: 30px 0;">
                    <h4>Portfolio vs Benchmark Comparison (6 Months)</h4>
                    <div class="chart-container">
                        <canvas id="performanceChart"></canvas>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0;">
                    <div style="background: #f8fafc; padding: 20px; border-radius: 15px; text-align: center;">
                        <h4 style="color: #64748b;">Portfolio Beta</h4>
                        <div style="font-size: 2rem; font-weight: 700; color: #667eea;">1.12</div>
                        <p style="color: #64748b; font-size: 0.9rem;">Moderate volatility</p>
                    </div>
                    <div style="background: #f8fafc; padding: 20px; border-radius: 15px; text-align: center;">
                        <h4 style="color: #64748b;">Sharpe Ratio</h4>
                        <div style="font-size: 2rem; font-weight: 700; color: #22c55e;">1.85</div>
                        <p style="color: #64748b; font-size: 0.9rem;">Excellent risk-adjusted returns</p>
                    </div>
                    <div style="background: #f8fafc; padding: 20px; border-radius: 15px; text-align: center;">
                        <h4 style="color: #64748b;">Max Drawdown</h4>
                        <div style="font-size: 2rem; font-weight: 700; color: #ef4444;">-6.8%</div>
                        <p style="color: #64748b; font-size: 0.9rem;">Low downside risk</p>
                    </div>
                    <div style="background: #f8fafc; padding: 20px; border-radius: 15px; text-align: center;">
                        <h4 style="color: #64748b;">Portfolio Volatility</h4>
                        <div style="font-size: 2rem; font-weight: 700; color: #f59e0b;">11.5%</div>
                        <p style="color: #64748b; font-size: 0.9rem;">Moderate risk level</p>
                    </div>
                </div>

                <h4>Asset Allocation Breakdown</h4>
                <div class="chart-container">
                    <canvas id="allocationChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab functionality
        function openTab(evt, tabName) {
            var i, tabcontent, tabbuttons;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }
            tabbuttons = document.getElementsByClassName("tab-button");
            for (i = 0; i < tabbuttons.length; i++) {
                tabbuttons[i].classList.remove("active");
            }
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }

        // Initialize charts
        document.addEventListener('DOMContentLoaded', function() {
            // Performance Chart
            const performanceCtx = document.getElementById('performanceChart').getContext('2d');
            new Chart(performanceCtx, {
                type: 'line',
                data: {
                    labels: ['Jan 2025', 'Feb 2025', 'Mar 2025', 'Apr 2025', 'May 2025', 'Jun 2025', 'Jul 2025'],
                    datasets: [{
                        label: 'Your Portfolio',
                        data: [100, 102.5, 104.8, 106.2, 107.9, 109.1, 104.52],
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        borderWidth: 3,
                        fill: true
                    }, {
                        label: 'Nifty 50',
                        data: [100, 101.8, 103.5, 105.2, 106.8, 108.5, 110.2],
                        borderColor: '#22c55e',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        borderWidth: 2,
                        fill: false
                    }, {
                        label: 'Gold',
                        data: [100, 104.2, 107.1, 109.5, 112.3, 115.8, 118.2],
                        borderColor: '#f59e0b',
                        backgroundColor: 'rgba(245, 158, 11, 0.1)',
                        borderWidth: 2,
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            ticks: {
                                callback: function(value, index, values) {
                                    return value + '%';
                                }
                            }
                        }
                    }
                }
            });

            // Forecast Chart
            const forecastCtx = document.getElementById('forecastChart').getContext('2d');
            new Chart(forecastCtx, {
                type: 'line',
                data: {
                    labels: ['Today', '1 Week', '2 Weeks', '3 Weeks', '1 Month'],
                    datasets: [{
                        label: 'Predicted Portfolio Value',
                        data: [172318, 174250, 175680, 177100, 178500],
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.2)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            ticks: {
                                callback: function(value, index, values) {
                                    return '₹' + value.toLocaleString();
                                }
                            }
                        }
                    }
                }
            });

            // Allocation Chart
            const allocationCtx = document.getElementById('allocationChart').getContext('2d');
            new Chart(allocationCtx, {
                type: 'pie',
                data: {
                    labels: ['Healthcare Sector', 'Gold/Commodity', 'Large Cap Index', 'Conservative Hybrid', 'Flexi Cap', 'ELSS Tax Saver', 'Small Cap', 'International'],
                    datasets: [{
                        data: [19.1, 15.3, 13.1, 20.8, 9.5, 13.8, 7.0, 1.4],
                        backgroundColor: [
                            '#ef4444',
                            '#f59e0b',
                            '#22c55e',
                            '#3b82f6',
                            '#8b5cf6',
                            '#ec4899',
                            '#06b6d4',
                            '#64748b'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                        }
                    }
                }
            });

            // Animate portfolio value
            const totalValueElement = document.getElementById('totalValue');
            animateValue(totalValueElement, 160000, 172318, 2000);
        });

        // Value animation function
        function animateValue(element, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const current = Math.floor(progress * (end - start) + start);
                element.textContent = '₹' + current.toLocaleString();
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }

        // Real-time data updates
        function updateMarketData() {
            const marketItems = document.querySelectorAll('.market-item');
            marketItems.forEach(item => {
                const changeElement = item.querySelector('.market-change');
                if (changeElement) {
                    const currentValue = parseFloat(changeElement.textContent.replace(/[+\-%]/g, ''));
                    const randomChange = (Math.random() - 0.5) * 0.1;
                    const newValue = (currentValue + randomChange).toFixed(2);
                    
                    changeElement.textContent = (newValue >= 0 ? '+' : '') + newValue + '%';
                    changeElement.className = 'market-change ' + (newValue >= 0 ? 'positive' : 'negative');
                }
            });
        }

        // Update every 30 seconds
        setInterval(updateMarketData, 30000);

        // Show notifications
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = 'notification show';
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 12px;">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : 'info-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notification.remove(), 500);
            }, 4000);
        }

        // Show welcome notification
        setTimeout(() => {
            showNotification('🚀 Portfolio Dashboard loaded successfully! Real-time tracking active.');
        }, 2000);

        // Service worker registration
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(registration => console.log('SW registered'))
                .catch(error => console.log('SW registration failed'));
        }
    </script>
</body>
</html>
